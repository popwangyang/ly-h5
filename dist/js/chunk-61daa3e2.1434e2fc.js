(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61daa3e2"],{"05e4":function(t,e,a){"use strict";var i=a("ed90"),n=a.n(i);n.a},"171c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-cell",{attrs:{title:t.title,"is-link":""},on:{click:t.selectedBtn}},[a("span",[""!=t.selectValue?a("span",{staticStyle:{color:"#000000"}},[t._v(t._s(t.selectValue))]):a("span",[t._v(t._s(t.placeholder))])])]),a("van-popup",{staticStyle:{height:"300px"},attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[a("van-picker",{ref:"picker",attrs:{"show-toolbar":"","default-index":t.defaultIndex,columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm,change:t.onChange}})],1)],1)},n=[],o=(a("4160"),a("a9e3"),a("159b"),{props:{title:{type:String,default:"标题"},modelvalue:{type:[String,Number],default:""},placeholder:{type:String,default:"请选择"},dataList:{type:Array,default:function(){return[]}}},model:{prop:"modelvalue",event:"returnBack"},watch:{modelvalue:function(t){var e=this;this.dataList.forEach((function(t,a){""!=e.modelvalue&&t.value==e.modelvalue&&(e.defaultIndex=a,e.currentIndex=a,e.selectValue=t.label)}))}},data:function(){return{selectValue:"",columns:[],defaultIndex:0,showPicker:!1,currentIndex:0}},methods:{onConfirm:function(t){this.selectValue=this.dataList[this.currentIndex].label,this.$emit("returnBack",this.dataList[this.currentIndex].value),this.showPicker=!1},selectedBtn:function(){var t=this;this.showPicker=!0,this.$nextTick((function(){t.currentIndex=0,t.dataList.forEach((function(e,a){""!=t.modelvalue&&e.value==t.modelvalue&&(t.currentIndex=a)})),t.$refs.picker.setIndexes([t.currentIndex])}))},onChange:function(t){this.currentIndex=t.getIndexes()[0]},init:function(){var t=this,e=[];this.dataList.forEach((function(a,i){e.push(a.label),""!=t.modelvalue&&a.value==t.modelvalue&&(t.defaultIndex=i,t.currentIndex=i,t.selectValue=a.label)})),this.columns=e}},mounted:function(){this.init()}}),r=o,l=a("2877"),s=Object(l["a"])(r,i,n,!1,null,null,null);e["a"]=s.exports},"1d1c":function(t,e,a){var i=a("23e7"),n=a("83ab"),o=a("37e8");i({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperties:o})},2206:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-field",{attrs:{clearable:"",type:t.type,maxlength:t.maxlength,"input-align":"right",placeholder:t.placeholder},on:{input:t.onInput},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v(t._s(t.title))]),t.required?t._e():a("span",{staticStyle:{color:"gray","margin-left":"4px"}},[t._v("(选填)")])])])},n=[],o=(a("a9e3"),{props:{maxlength:{type:Number,default:99999},title:{type:String,default:"标题"},type:{type:String,default:"text"},required:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入"},modelValue:{type:[String,Number]}},model:{prop:"modelValue",event:"returnBack"},data:function(){return{value:""}},watch:{modelValue:function(t){this.value||(this.value=t)}},methods:{onInput:function(t){this.$emit("returnBack",t)}},mounted:function(){this.value=this.modelValue}}),r=o,l=(a("5f56"),a("2877")),s=Object(l["a"])(r,i,n,!1,null,null,null);e["a"]=s.exports},"455d":function(t,e,a){"use strict";a("4160"),a("b64b"),a("d3b7"),a("159b");var i=a("d399"),n={isNonEmpty:function(t,e){if(""===t)return e},isNumber:function(t,e){if(!/^[+]{0,1}(\d+)$/.test(t))return e},isEmail:function(t,e){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t))return e},isPhone:function(t,e){if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(t))return e},isGateway:function(t,e){if(!/^192\.168(\.(\d|([1-9]\d)|(1\d{2})|(2[0-4]\d)|(25[0-5]))){2}$/.test(t))return e},isMac:function(t,e){if(!/^[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}$/.test(t))return e}},o=function(){this.cache=[]};o.prototype.add=function(t,e,a){for(var i=this,o=function(){var o=e[r];o.required?o.validate?i.cache.push((function(){return o.validate(t,a)})):o.type?i.cache.push((function(){return n[o.type](t,o.message)})):i.cache.push((function(){return n.isNonEmpty(t,o.message)})):o.type?0==o.required?""!=t&&i.cache.push((function(){return n[o.type](t,o.message)})):i.cache.push((function(){return n[o.type](t,o.message)})):o.validate&&(0==o.required?""!=t&&i.cache.push((function(){return o.validate(t,a)})):i.cache.push((function(){return o.validate(t,a)})))},r=0;r<e.length;r++)o()},o.prototype.start=function(){for(var t=0;t<this.cache.length;t++){var e=this.cache[t]();if(e)return console.log(e),e}};var r=function(t,e){return new Promise((function(a,n){var r=new o;Object.keys(e).forEach((function(a){r.add(t[a],e[a],t)}));var l=r.start();l?(Object(i["a"])(l),a(!1)):a(!0)}))};e["a"]=r},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("a4d3"),a("4de4"),a("4160"),a("1d1c"),a("7a82"),a("e439"),a("dbb4"),a("b64b"),a("159b");var i=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),n=a("5899"),o="["+n+"]",r=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),s=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(l,"")),a}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5f56":function(t,e,a){"use strict";var i=a("a4d7"),n=a.n(i);n.a},7156:function(t,e,a){var i=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var o,r;return n&&"function"==typeof(o=e.constructor)&&o!==a&&i(r=o.prototype)&&r!==a.prototype&&n(t,r),t}},"87d0":function(t,e,a){"use strict";e["a"]={video:[{label:"MPG",value:"4"},{label:"MP4",value:"3"},{label:"MKV",value:"5"}],tv_picture:[{label:"png",value:"0"},{label:"jpg",value:"1"},{label:"gif",value:"2"}],vod_picture:[{label:"png",value:"0"},{label:"jpg",value:"1"}],tv_resolvingPower:[{label:"1280*720",value:"1"},{label:"1920*1080",value:"3"}],vod_resolvingPower:[{label:"720P",value:"1"},{label:"1080P",value:"3"}],TV720P:[{label:"946,373",value:"0"},{label:"154,373",value:"1"},{label:"自定义",value:"2"}],TV1080P:[{label:"1418,560",value:"0"},{label:"230,560",value:"1"},{label:"自定义",value:"2"}],SH720P:[{label:"946,352",value:"0"},{label:"自定义",value:"1"}],SV720P:[{label:"421,947",value:"0"},{label:"自定义",value:"1"}],SH1080P:[{label:"1418,527",value:"0"},{label:"自定义",value:"1"}],SV1080P:[{label:"631,1420",value:"0"},{label:"自定义",value:"1"}]}},a4d7:function(t,e,a){},a9e3:function(t,e,a){"use strict";var i=a("83ab"),n=a("da84"),o=a("94ca"),r=a("6eeb"),l=a("5135"),s=a("c6b6"),u=a("7156"),c=a("c04e"),f=a("d039"),p=a("7c73"),d=a("241c").f,v=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,m="Number",g=n[m],D=g.prototype,V=s(p(D))==m,y=function(t){var e,a,i,n,o,r,l,s,u=c(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(o=u.slice(2),r=o.length,l=0;l<r;l++)if(s=o.charCodeAt(l),s<48||s>n)return NaN;return parseInt(o,i)}return+u};if(o(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var O,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(V?f((function(){D.valueOf.call(a)})):s(a)!=m)?u(new g(y(e)),a,x):y(e)},k=i?d(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;k.length>P;P++)l(g,O=k[P])&&!l(x,O)&&h(x,O,v(g,O));x.prototype=D,D.constructor=x,r(n,m,x)}},ade3:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("7a82");function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},cf88:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"QRCodeBox"},[a("cell-selected",{attrs:{title:"TV投射位置",dataList:t.dataList1},model:{value:t.formData.value1.value,callback:function(e){t.$set(t.formData.value1,"value",e)},expression:"formData.value1.value"}}),a("span",{staticClass:"spanBox transition",class:{spanBox1:"2"==t.formData.value1.value}},[a("cell-input",{attrs:{title:"屏幕X值",type:"number"},model:{value:t.formData.value1.position.positionX,callback:function(e){t.$set(t.formData.value1.position,"positionX",e)},expression:"formData.value1.position.positionX"}}),a("cell-input",{attrs:{title:"屏幕Y值",type:"number"},model:{value:t.formData.value1.position.positionY,callback:function(e){t.$set(t.formData.value1.position,"positionY",e)},expression:"formData.value1.position.positionY"}})],1),a("div",{staticClass:"divider"}),a("cell-selected",{attrs:{title:"点歌器投射位置(横屏)",dataList:t.dataList2},model:{value:t.formData.value2.value,callback:function(e){t.$set(t.formData.value2,"value",e)},expression:"formData.value2.value"}}),a("span",{staticClass:"spanBox transition",class:{spanBox1:"1"==t.formData.value2.value}},[a("cell-input",{attrs:{title:"屏幕X值",type:"number"},model:{value:t.formData.value2.position.positionX,callback:function(e){t.$set(t.formData.value2.position,"positionX",e)},expression:"formData.value2.position.positionX"}}),a("cell-input",{attrs:{title:"屏幕Y值",type:"number"},model:{value:t.formData.value2.position.positionY,callback:function(e){t.$set(t.formData.value2.position,"positionY",e)},expression:"formData.value2.position.positionY"}})],1),a("div",{staticClass:"divider"}),a("cell-selected",{attrs:{title:"点歌器投射位置(竖屏)",dataList:t.dataList3},model:{value:t.formData.value3.value,callback:function(e){t.$set(t.formData.value3,"value",e)},expression:"formData.value3.value"}}),a("span",{staticClass:"spanBox transition",class:{spanBox1:"1"==t.formData.value3.value}},[a("cell-input",{attrs:{title:"屏幕X值",type:"number"},model:{value:t.formData.value3.position.positionX,callback:function(e){t.$set(t.formData.value3.position,"positionX",e)},expression:"formData.value3.position.positionX"}}),a("cell-input",{attrs:{title:"屏幕Y值",type:"number"},model:{value:t.formData.value3.position.positionY,callback:function(e){t.$set(t.formData.value3.position,"positionY",e)},expression:"formData.value3.position.positionY"}})],1),a("div",{staticClass:"button"},[a("van-button",{staticClass:"buttonDefault",attrs:{size:"large"},on:{click:t.btnClick}},[t._v("保存")])],1)],1)},n=[],o=(a("99af"),a("d81d"),a("0d03"),a("b64b"),a("d3b7"),a("25f0"),a("4795"),a("2909")),r=a("5530"),l=a("2f62"),s=a("87d0"),u=a("171c"),c=a("2206"),f=a("455d"),p=a("c276"),d={components:{cellSelected:u["a"],cellInput:c["a"]},data:function(){var t=this,e=function(e,a){if(""==e.value)return"TV投射位置不能为空";if("2"==e.value){if(""==e.position.positionX||""==e.position.positionY)return"TV投射位置坐标不完善";if(e.position.positionX<0||e.position.positionX>t.TVWidth)return"TV投射位置X坐标的范围为0~".concat(t.TVWidth);if(e.position.positionY<0||e.position.positionY>t.TVHeight)return"TV投射位置Y坐标的范围为0~".concat(t.TVHeight)}},a=function(e,a){if(""==e.value)return"点歌器投射位置(横屏)不能为空";if("1"==e.value){if(""==e.position.positionX||""==e.position.positionY)return"点歌器投射位置(横屏)坐标不完善";if(e.position.positionX<0||e.position.positionX>t.VODWidth)return"点歌器投射位置(横屏)X坐标的范围为0~".concat(t.VODWidth);if(e.position.positionY<0||e.position.positionY>t.VODHeight)return"点歌器投射位置(横屏)Y坐标的范围为0~".concat(t.VODHeight)}},i=function(e,a){if(""==e.value)return"点歌器投射位置(竖屏)不能为空";if("1"==e.value){if(""==e.position.positionX||""==e.position.positionY)return"点歌器投射位置(竖屏)坐标不完善";if(e.position.positionX<0||e.position.positionX>t.VODHeight)return"点歌器投射位置(竖屏)X坐标的范围为0~".concat(t.VODHeight);if(e.position.positionY<0||e.position.positionY>t.VODWidth)return"点歌器投射位置(竖屏)Y坐标的范围为0~".concat(t.VODWidth)}};return{VODfbl:this.$store.state.ktv.QRCode.vod_resolution,TVfbl:this.$store.state.ktv.QRCode.tv_resolution,formData:{value1:{value:"0",position:{positionX:"",positionY:""}},value2:{value:"0",position:{positionX:"",positionY:""}},value3:{value:"0",position:{positionX:"",positionY:""}}},rules:{value1:[{required:!0,validate:e}],value2:[{required:!0,validate:a}],value3:[{required:!0,validate:i}]}}},computed:{TVWidth:function(){return"1"==this.TVfbl?1280:"3"==this.TVfbl?1920:0},TVHeight:function(){return"1"==this.TVfbl?720:"3"==this.TVfbl?1080:0},VODWidth:function(){return"1"==this.VODfbl?1280:"3"==this.VODfbl?1920:0},VODHeight:function(){return"1"==this.VODfbl?720:"3"==this.VODfbl?1080:0},dataList1:function(){return"1"==this.TVfbl?s["a"].TV720P:"3"==this.TVfbl?s["a"].TV1080P:[]},dataList2:function(){return"1"==this.VODfbl?s["a"].SH720P:"3"==this.VODfbl?s["a"].SH1080P:[]},dataList3:function(){return"1"==this.VODfbl?s["a"].SV720P:"3"==this.VODfbl?s["a"].SV1080P:[]}},methods:Object(r["a"])({},Object(l["b"])(["handlerSetQRCode"]),{setPosition:function(t,e,a){t.value=Object(p["f"])(e,a),t.value==a[a.length-1].value&&(t.position={positionX:e.x.toString(),positionY:e.y.toString()}),console.log(t)},btnClick:function(){var t=this;Object(f["a"])(this.formData,this.rules).then((function(e){if(e){var a={ktv_id:t.$store.state.ktv.ktvID,tv:[Object(p["j"])(t.formData.value1,t.dataList1,{type:1,width:t.TVWidth})],vod:[Object(p["j"])(t.formData.value2,t.dataList2,{type:2,width:"横"}),Object(p["j"])(t.formData.value3,t.dataList3,{type:2,width:"竖"})]};t.$toast.loading({duration:0,forbidClick:!0,message:"修改中..."}),t.handlerSetQRCode(a).then((function(e){t.$toast.success("修改成功"),setTimeout((function(){t.$router.go(-1)}),1e3)}))["catch"]((function(e){t.$toast("修改失败，请稍后重试")})),console.log(a)}}))}}),mounted:function(){var t=this;if(this.$store.state.ktv.QRCode.qr_tv&&1==this.$store.state.ktv.QRCode.qr_tv.length){var e=this.$store.state.ktv.QRCode,a=[e.qr_tv[0]].concat(Object(o["a"])(e.qr_vod));console.log(a),Object.keys(this.formData).map((function(e,i){var n;n=0==i?t.dataList1:1==i?t.dataList2:t.dataList3,t.setPosition(t.formData[e],a[i],n)}))}}},v=d,h=(a("05e4"),a("2877")),b=Object(h["a"])(v,i,n,!1,null,"795e2290",null);e["default"]=b.exports},dbb4:function(t,e,a){var i=a("23e7"),n=a("83ab"),o=a("56ef"),r=a("fc6a"),l=a("06cf"),s=a("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,i=r(t),n=l.f,u=o(i),c={},f=0;while(u.length>f)a=n(i,e=u[f++]),void 0!==a&&s(c,e,a);return c}})},e439:function(t,e,a){var i=a("23e7"),n=a("d039"),o=a("fc6a"),r=a("06cf").f,l=a("83ab"),s=n((function(){r(1)})),u=!l||s;i({target:"Object",stat:!0,forced:u,sham:!l},{getOwnPropertyDescriptor:function(t,e){return r(o(t),e)}})},ed90:function(t,e,a){}}]);
//# sourceMappingURL=chunk-61daa3e2.1434e2fc.js.map
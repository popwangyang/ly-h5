(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41137b03"],{"455d":function(t,a,e){"use strict";var s=e("d399"),r={isNonEmpty:function(t,a){if(""===t)return a},isNumber:function(t,a){if(!/^[+]{0,1}(\d+)$/.test(t))return a},isEmail:function(t,a){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t))return a},isPhone:function(t,a){if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(t))return a},isGateway:function(t,a){if(!/^192\.168(\.(\d|([1-9]\d)|(1\d{2})|(2[0-4]\d)|(25[0-5]))){2}$/.test(t))return a},isMac:function(t,a){if(!/^[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}$/.test(t))return a}},i=function(){this.cache=[]};i.prototype.add=function(t,a,e){for(var s=0;s<a.length;s++){let i=a[s];i.required?i.validate?this.cache.push((function(){return i.validate(t,e)})):i.type?this.cache.push((function(){return r[i.type](t,i.message)})):this.cache.push((function(){return r.isNonEmpty(t,i.message)})):i.type?0==i.required?""!=t&&null!=t&&this.cache.push((function(){return r[i.type](t,i.message)})):this.cache.push((function(){return r[i.type](t,i.message)})):i.validate&&(0==i.required?""!=t&&this.cache.push((function(){return i.validate(t,e)})):this.cache.push((function(){return i.validate(t,e)})))}},i.prototype.start=function(){for(var t=0;t<this.cache.length;t++){let a=this.cache[t]();if(a)return console.log(a),a}};let o=function(t,a){return new Promise((e,r)=>{let o=new i;Object.keys(a).forEach(e=>{o.add(t[e],a[e],t)});let n=o.start();n?(Object(s["a"])(n),e(!1)):e(!0)})};a["a"]=o},5033:function(t,a,e){"use strict";var s=e("50ae"),r=e.n(s);r.a},"50ae":function(t,a,e){},f719:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"setNewBox"},[e("h2",[t._v("更改密码")]),e("div",{staticClass:"item"},[e("h4",[t._v("原始密码")]),e("div",[e("van-field",{attrs:{clearable:"",type:"password",left:"",placeholder:"请输入原始密码"},model:{value:t.formData.password,callback:function(a){t.$set(t.formData,"password",a)},expression:"formData.password"}})],1)]),e("div",{staticClass:"item"},[e("h4",[t._v("新密码")]),e("div",[e("van-field",{attrs:{clearable:"",type:"password",left:"",placeholder:"请输入新密码"},model:{value:t.formData.password1,callback:function(a){t.$set(t.formData,"password1",a)},expression:"formData.password1"}})],1)]),e("div",{staticClass:"item"},[e("h4",[t._v("确认密码")]),e("div",[e("van-field",{attrs:{clearable:"",type:"password",left:"",placeholder:"请再次输入密码"},model:{value:t.formData.password2,callback:function(a){t.$set(t.formData,"password2",a)},expression:"formData.password2"}})],1)]),e("div",{staticClass:"footer"},[e("van-button",{class:t.isDisButton?"entityDisBtnDefault":"entityBtnDefault",staticStyle:{border:"none"},attrs:{disabled:t.isDisButton,type:"info",size:"large",loading:t.loading},on:{click:t.handleFrom}},[t._v("完成")])],1)])},r=[],i=e("2f62"),o=e("d399"),n=e("455d"),d=e("c24f"),c={data(){const t=t=>{var a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;return""==t?"原始密码不能为空":a.test(t)?void 0:"请输入6~20位数字和字母组合"},a=t=>{var a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;return""==t?"密码不能为空":a.test(t)?void 0:"请输入6~20位数字和字母组合"},e=(t,a)=>""==t?"请再次输入密码":t!=a.password1?"两次输入密码不一致":void 0;return{loading:!1,formData:{password:"",password1:"",password2:""},rules:{password:[{required:!0,validate:t}],password1:[{required:!0,validate:a}],password2:[{required:!0,validate:e}]}}},methods:{...Object(i["b"])(["loginOut"]),handleFrom(){Object(n["a"])(this.formData,this.rules).then(t=>{if(t){const t=this.formData.password,a=this.formData.password1,e=this.username;this.loading=!0,Object(d["b"])(e,a,t).then(()=>{this.loading=!1,o["a"].success("密码修改成功"),this.loginOut().then(()=>{this.$router.push({path:"/login"})})}).catch(t=>{this.$toast(t.data.error),this.loading=!1})}})}},computed:{username(){return this.$store.state.user.userEmail||this.$store.state.user.phone},isDisButton(){return""==this.formData.password||""==this.formData.password1||""==this.formData.password2}}},u=c,l=(e("5033"),e("2877")),f=Object(l["a"])(u,s,r,!1,null,"4f8c9f1e",null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-41137b03.23240d5d.js.map
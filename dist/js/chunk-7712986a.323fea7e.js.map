{"version":3,"sources":["webpack:///./src/libs/validator.js","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?3830","webpack:///./src/api/user.js","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?479d","webpack:///src/views/login/components/forgetPassword/components/changePassword.vue","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?82d9","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue"],"names":["strategies","isNonEmpty","value","errorMsg","isNumber","test","isEmail","isPhone","isGateway","isMac","Validator","this","cache","prototype","add","rules","data","i","length","rule","required","validate","push","type","message","start","console","log","formValidate","formData","Promise","resolve","reject","validator","Object","keys","forEach","item","Toast","getUserType","params","axios","request","url","method","getIdentifyungCode","testIdentifyungCode","ConfirmToModifyTheNewPassword","getPersonMidInfo","changePasswordapi","username","password","old_password","getKTVPersonMidInfo","id","getVodPersonMidInfo","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","model","callback","$$v","$set","expression","class","isDisButton","staticStyle","loading","on","handleFrom","staticRenderFns","validatePassword","myrey","validatePassword1","validatePassword2","password1","password2","methods","val","computed","$store","state","user","userEmail","component"],"mappings":"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","file":"js/chunk-7712986a.323fea7e.js","sourcesContent":["// 表单验证函数\r\nimport { Toast } from 'vant'\r\nvar strategies = {\r\n    isNonEmpty: function (value, errorMsg) { // 不为空\r\n\t  if (value === '') {\r\n\t\treturn errorMsg;\r\n\t  }\r\n    },\r\n    isNumber: function(value, errorMsg) {  // 为正整数\r\n\t if (!/^[+]{0,1}(\\d+)$/.test(value)) {\r\n\t    return errorMsg;\r\n\t  }\r\n\t},\r\n\tisEmail: function(value, errorMsg) {  // 为邮箱\r\n\t  if (!/^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/.test(value)) {\r\n\t     return errorMsg;\r\n\t   }\r\n\t},\r\n\tisPhone: function(value, errorMsg) {  // 为手机话号码\r\n\t  if (!/^[1][3,4,5,7,8][0-9]{9}$/.test(value)) {\r\n\t     return errorMsg;\r\n\t   }\r\n\t},\r\n\tisGateway: function(value, errorMsg) {  // 为网关格式\r\n\t  if (!/^192\\.168(\\.(\\d|([1-9]\\d)|(1\\d{2})|(2[0-4]\\d)|(25[0-5]))){2}$/.test(value)) {\r\n\t     return errorMsg;\r\n\t   }\r\n\t},\r\n\tisMac: function(value, errorMsg) {  // Mac地址格式验证\r\n\t\tif (!/^[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}$/.test(value)) {\r\n\t\t   return errorMsg;\r\n\t\t }\r\n\t}\r\n}\r\n\r\nvar Validator = function(){\r\n\tthis.cache = [];\r\n}\r\n\r\nValidator.prototype.add = function(value, rules, data){\r\n\tfor(var i = 0; i < rules.length; i++){\r\n\t\tlet rule = rules[i];\r\n\t\tif(rule.required){\r\n\t\t\tif(rule.validate){\r\n\t\t\t\tthis.cache.push(function(){\r\n\t\t\t\t\treturn rule.validate(value, data)\r\n\t\t\t\t})\r\n\t\t\t}else if(rule.type){\r\n\t\t\t\tthis.cache.push(function(){\r\n\t\t\t\t\treturn strategies[rule.type](value, rule.message)\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tthis.cache.push(function(){\r\n\t\t\t\t\treturn strategies.isNonEmpty(value, rule.message)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}else if(rule.type){\r\n\t\t\tif(rule.required == false){\r\n\t\t\t\tif(value != ''){\r\n\t\t\t\t  this.cache.push(function(){\r\n\t\t\t\t  \treturn strategies[rule.type](value, rule.message)\r\n\t\t\t\t  })\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.cache.push(function(){\r\n\t\t\t\t\treturn strategies[rule.type](value, rule.message)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}else if(rule.validate){\r\n\t\t\tif(rule.required == false){\r\n\t\t\t\tif(value != ''){\r\n\t\t\t\t  this.cache.push(function(){\r\n\t\t\t\t  \treturn rule.validate(value, data)\r\n\t\t\t\t  })\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.cache.push(function(){\r\n\t\t\t\t\treturn rule.validate(value, data)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nValidator.prototype.start = function(){\r\n\tfor(var i = 0; i < this.cache.length; i++){\r\n\t\tlet errorMsg  = this.cache[i]();\r\n\t\tif(errorMsg){\r\n\t\t\tconsole.log(errorMsg)\r\n\t\t\treturn errorMsg;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet formValidate = function(formData, rules){\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet validator = new Validator();\r\n\t\t\tObject.keys(rules).forEach((item) => {\r\n\t\t\t\tvalidator.add(formData[item], rules[item], formData);\r\n\t\t\t})\r\n\t\t\tlet errorMsg  = validator.start();\r\n\t\t\tif(errorMsg){\r\n\t\t\t\tToast(errorMsg);\r\n\t\t\t\tresolve(false);\r\n\t\t\t}else{\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\r\nexport default formValidate","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=style&index=0&id=a4736102&scoped=scoped&lang=less&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=style&index=0&id=a4736102&scoped=scoped&lang=less&\"","import axios from '@/libs/api.request'\r\n\r\n// 登录接口\r\nexport const login = ({\r\n  username,\r\n  password\r\n}) => {\r\n  const data = {\r\n    username: username,\r\n    password: password\r\n  }\r\n  return axios.request({\r\n    url: '/cperm/token/get',\r\n    data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n// 获取用户类型(非登录状态)\r\nexport const getUserType = (params) => {\r\n  return axios.request({\r\n    url: `/cperm/users/user_type`,\r\n    params,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 根据手机号或邮箱获取验证码\r\nexport const getIdentifyungCode = (data) => {\r\n  return axios.request({\r\n    url: '/cperm/send_code',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n// 验证验证码\r\nexport const testIdentifyungCode = (data) => {\r\n  return axios.request({\r\n    url: '/cperm/verify_code',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n// 修改密码(非登录状态)\r\nexport const ConfirmToModifyTheNewPassword = (data) => {\r\n  return axios.request({\r\n    url: '/cperm/user/change_password',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取登录信息\r\nexport const getPersonMidInfo = () => {\r\n  return axios.request({\r\n    url: '/cperm/users/self',\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 获取平台user_id\r\nexport const getEmployee_user_id = () => {\r\n  return axios.request({\r\n    url: '/cperm/platform',\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 根据原始密码修改新密码；\r\nexport const changePasswordapi = (username,\r\n  password, old_password = null) => {\r\n  return axios.request({\r\n    url: '/cperm/user/change_password',\r\n    method: 'post',\r\n    data: {\r\n      username,\r\n      password,\r\n      old_password\r\n    }\r\n  })\r\n}\r\n\r\n// 获取ktv登录信息\r\nexport const getKTVPersonMidInfo = (id) => {\r\n  return axios.request({\r\n    url: `/ktv/place/ktv-upgrade/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 获取vod登录信息\r\nexport const getVodPersonMidInfo = (id) => {\r\n  return axios.request({\r\n    url: `/cperm/vods/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setNewBox\"},[_c('h2',[_vm._v(\"更改密码\")]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"原始密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请输入原始密码\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"新密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请输入新密码\"},model:{value:(_vm.formData.password1),callback:function ($$v) {_vm.$set(_vm.formData, \"password1\", $$v)},expression:\"formData.password1\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"确认密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.formData.password2),callback:function ($$v) {_vm.$set(_vm.formData, \"password2\", $$v)},expression:\"formData.password2\"}})],1)]),_c('div',{staticClass:\"footer\"},[_c('van-button',{class:_vm.isDisButton?'entityDisBtnDefault':'entityBtnDefault',staticStyle:{\"border\":\"none\"},attrs:{\"disabled\":_vm.isDisButton,\"type\":\"info\",\"size\":\"large\",\"loading\":_vm.loading},on:{\"click\":_vm.handleFrom}},[_vm._v(\"完成\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"setNewBox\">\r\n    <h2>更改密码</h2>\r\n    <div class=\"item\">\r\n      <h4>原始密码</h4>\r\n      <div>\r\n        <van-field\r\n          clearable\r\n          type=\"password\"\r\n          v-model=\"formData.password\"\r\n          left\r\n          placeholder=\"请输入原始密码\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"item\">\r\n      <h4>新密码</h4>\r\n      <div>\r\n        <van-field\r\n          clearable\r\n          type=\"password\"\r\n          v-model=\"formData.password1\"\r\n          left\r\n          placeholder=\"请输入新密码\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"item\">\r\n      <h4>确认密码</h4>\r\n      <div>\r\n        <van-field\r\n          clearable\r\n          type=\"password\"\r\n          v-model=\"formData.password2\"\r\n          left\r\n          placeholder=\"请再次输入密码\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <van-button\r\n        :disabled=\"isDisButton\"\r\n        style=\"border: none;\"\r\n        :class=\"isDisButton?'entityDisBtnDefault':'entityBtnDefault'\"\r\n        type=\"info\"\r\n        size=\"large\"\r\n        @click=\"handleFrom\"\r\n        :loading=\"loading\"\r\n      >完成</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { Toast } from \"vant\";\r\nimport formValidate from \"@/libs/validator\";\r\nimport { changePasswordapi } from \"@/api/user.js\";\r\nexport default {\r\n  data() {\r\n    const validatePassword = value => {\r\n      var myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\r\n      if (value == \"\") {\r\n        return \"原始密码不能为空\";\r\n      } else if (!myrey.test(value)) {\r\n        return \"请输入6~20位数字和字母组合\";\r\n      }\r\n    };\r\n    const validatePassword1 = value => {\r\n      var myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\r\n      if (value == \"\") {\r\n        return \"密码不能为空\";\r\n      } else if (!myrey.test(value)) {\r\n        return \"请输入6~20位数字和字母组合\";\r\n      }\r\n    };\r\n    const validatePassword2 = (value, data) => {\r\n      if (value == \"\") {\r\n        return \"请再次输入密码\";\r\n      } else if (value != data.password1) {\r\n        return \"两次输入密码不一致\";\r\n      }\r\n    };\r\n    return {\r\n      loading: false,\r\n      formData: {\r\n        password: \"\",\r\n        password1: \"\",\r\n        password2: \"\"\r\n      },\r\n      rules: {\r\n        password: [{ required: true, validate: validatePassword }],\r\n        password1: [{ required: true, validate: validatePassword1 }],\r\n        password2: [{ required: true, validate: validatePassword2 }]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"loginOut\"]),\r\n    handleFrom() {\r\n      formValidate(this.formData, this.rules).then(val => {\r\n        if (val) {\r\n          const password = this.formData.password;\r\n          const password1 = this.formData.password1;\r\n          const username = this.username;\r\n          this.loading = true;\r\n          changePasswordapi(username, password1, password)\r\n            .then(() => {\r\n              this.loading = false;\r\n              Toast.success(\"密码修改成功\");\r\n              this.loginOut().then(() => {\r\n                this.$router.push({\r\n                  path: \"/login\"\r\n                });\r\n              });\r\n            })\r\n            .catch(err => {\r\n              this.$toast(err.data.error);\r\n              this.loading = false;\r\n            });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    username() {\r\n      return this.$store.state.user.userEmail;\r\n    },\r\n    isDisButton() {\r\n      return (\r\n        this.formData.password == \"\" ||\r\n        this.formData.password1 == \"\" ||\r\n        this.formData.password2 == \"\"\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped=\"scoped\" lang=\"less\">\r\n.setNewBox {\r\n  display: block;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #ffffff;\r\n  padding: 25.35px 9.75px;\r\n  box-sizing: border-box;\r\n  .item {\r\n    & > div {\r\n      border-bottom: 1px solid #c6cbd4;\r\n      margin-bottom: 11.25px;\r\n      .code {\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        color: rgba(75, 116, 255, 1);\r\n      }\r\n    }\r\n    .loading {\r\n      width: 100%;\r\n      height: 22.5px;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n  .footer {\r\n    margin-top: 37.5px;\r\n    display: block;\r\n  }\r\n}\r\nh2,\r\nh4 {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nh2 {\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  color: #020202;\r\n  margin-bottom: 19.5px;\r\n}\r\nh4 {\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  color: rgba(108, 114, 124, 1);\r\n  margin-bottom: 9.75px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changePassword.vue?vue&type=template&id=a4736102&scoped=true&\"\nimport script from \"./changePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./changePassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changePassword.vue?vue&type=style&index=0&id=a4736102&scoped=scoped&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4736102\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
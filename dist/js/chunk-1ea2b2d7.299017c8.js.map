{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.define-properties.js","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?3e86","webpack:///./src/libs/validator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?6530","webpack:///src/views/login/components/forgetPassword/components/changePassword.vue","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue?82d9","webpack:///./src/views/login/components/forgetPassword/components/changePassword.vue"],"names":["$","DESCRIPTORS","defineProperties","target","stat","forced","sham","strategies","isNonEmpty","value","errorMsg","isNumber","test","isEmail","isPhone","isGateway","isMac","Validator","this","cache","prototype","add","rules","data","rule","i","required","validate","push","type","message","length","start","console","log","formValidate","formData","Promise","resolve","reject","validator","Object","keys","forEach","item","Toast","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","arguments","source","key","defineProperty","getOwnPropertyDescriptors","_defineProperty","obj","configurable","writable","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","descriptor","O","f","result","index","undefined","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","it","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","model","callback","$$v","$set","expression","class","isDisButton","staticStyle","loading","on","handleFrom","staticRenderFns","myrey","password","password1","password2","methods","val","computed","username","$store","state","user","userEmail","component"],"mappings":"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","file":"js/chunk-1ea2b2d7.299017c8.js","sourcesContent":["var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=style&index=0&id=2f25d99a&scoped=scoped&lang=less&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=style&index=0&id=2f25d99a&scoped=scoped&lang=less&\"","// 表单验证函数\nimport { Toast } from 'vant'\nvar strategies = {\n    isNonEmpty: function (value, errorMsg) { // 不为空\n\t  if (value === '') {\n\t\treturn errorMsg;\n\t  }\n    },\n    isNumber: function(value, errorMsg) {  // 为正整数\n\t if (!/^[+]{0,1}(\\d+)$/.test(value)) {\n\t    return errorMsg;\n\t  }\n\t},\n\tisEmail: function(value, errorMsg) {  // 为邮箱\n\t  if (!/^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/.test(value)) {\n\t     return errorMsg;\n\t   }\n\t},\n\tisPhone: function(value, errorMsg) {  // 为手机话号码\n\t  if (!/^[1][3,4,5,7,8][0-9]{9}$/.test(value)) {\n\t     return errorMsg;\n\t   }\n\t},\n\tisGateway: function(value, errorMsg) {  // 为网关格式\n\t  if (!/^192\\.168(\\.(\\d|([1-9]\\d)|(1\\d{2})|(2[0-4]\\d)|(25[0-5]))){2}$/.test(value)) {\n\t     return errorMsg;\n\t   }\n\t},\n\tisMac: function(value, errorMsg) {  // Mac地址格式验证\n\t\tif (!/^[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}:[A-Fa-f\\d]{2}$/.test(value)) {\n\t\t   return errorMsg;\n\t\t }\n\t}\n}\n\nvar Validator = function(){\n\tthis.cache = [];\n}\n\nValidator.prototype.add = function(value, rules, data){\n\tfor(var i = 0; i < rules.length; i++){\n\t\tlet rule = rules[i];\n\t\tif(rule.required){\n\t\t\tif(rule.validate){\n\t\t\t\tthis.cache.push(function(){\n\t\t\t\t\treturn rule.validate(value, data)\n\t\t\t\t})\n\t\t\t}else if(rule.type){\n\t\t\t\tthis.cache.push(function(){\n\t\t\t\t\treturn strategies[rule.type](value, rule.message)\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.cache.push(function(){\n\t\t\t\t\treturn strategies.isNonEmpty(value, rule.message)\n\t\t\t\t})\n\t\t\t}\n\t\t}else if(rule.type){\n\t\t\tif(rule.required == false){\n\t\t\t\tif(value != ''){\n\t\t\t\t  this.cache.push(function(){\n\t\t\t\t  \treturn strategies[rule.type](value, rule.message)\n\t\t\t\t  })\t\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.cache.push(function(){\n\t\t\t\t\treturn strategies[rule.type](value, rule.message)\n\t\t\t\t})\n\t\t\t}\n\t\t}else if(rule.validate){\n\t\t\tif(rule.required == false){\n\t\t\t\tif(value != ''){\n\t\t\t\t  this.cache.push(function(){\n\t\t\t\t  \treturn rule.validate(value, data)\n\t\t\t\t  })\t\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.cache.push(function(){\n\t\t\t\t\treturn rule.validate(value, data)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidator.prototype.start = function(){\n\tfor(var i = 0; i < this.cache.length; i++){\n\t\tlet errorMsg  = this.cache[i]();\n\t\tif(errorMsg){\n\t\t\tconsole.log(errorMsg)\n\t\t\treturn errorMsg;\n\t\t}\n\t}\n}\n\nlet formValidate = function(formData, rules){\n\treturn new Promise((resolve, reject) => {\n\t\tlet validator = new Validator();\n\t\t\tObject.keys(rules).forEach((item) => {\n\t\t\t\tvalidator.add(formData[item], rules[item], formData);\n\t\t\t})\n\t\t\tlet errorMsg  = validator.start();\n\t\t\tif(errorMsg){\n\t\t\t\tToast(errorMsg);\n\t\t\t\tresolve(false);\n\t\t\t}else{\n\t\t\t\tresolve(true);\n\t\t\t}\n\t\t})\n\t}\n\t\n\nexport default formValidate","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setNewBox\"},[_c('h2',[_vm._v(\"更改密码\")]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"原始密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请输入原始密码\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"新密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请输入新密码\"},model:{value:(_vm.formData.password1),callback:function ($$v) {_vm.$set(_vm.formData, \"password1\", $$v)},expression:\"formData.password1\"}})],1)]),_c('div',{staticClass:\"item\"},[_c('h4',[_vm._v(\"确认密码\")]),_c('div',[_c('van-field',{attrs:{\"clearable\":\"\",\"type\":\"password\",\"left\":\"\",\"placeholder\":\"请再次输入密码\"},model:{value:(_vm.formData.password2),callback:function ($$v) {_vm.$set(_vm.formData, \"password2\", $$v)},expression:\"formData.password2\"}})],1)]),_c('div',{staticClass:\"footer\"},[_c('van-button',{class:_vm.isDisButton?'entityDisBtnDefault':'entityBtnDefault',staticStyle:{\"border\":\"none\"},attrs:{\"disabled\":_vm.isDisButton,\"type\":\"info\",\"size\":\"large\",\"loading\":_vm.loading},on:{\"click\":_vm.handleFrom}},[_vm._v(\"完成\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"setNewBox\">\n    <h2>更改密码</h2>\n    <div class=\"item\">\n      <h4>原始密码</h4>\n      <div>\n        <van-field\n          clearable\n          type=\"password\"\n          v-model=\"formData.password\"\n          left\n          placeholder=\"请输入原始密码\"\n        />\n      </div>\n    </div>\n    <div class=\"item\">\n      <h4>新密码</h4>\n      <div>\n        <van-field\n          clearable\n          type=\"password\"\n          v-model=\"formData.password1\"\n          left\n          placeholder=\"请输入新密码\"\n        />\n      </div>\n    </div>\n    <div class=\"item\">\n      <h4>确认密码</h4>\n      <div>\n        <van-field\n          clearable\n          type=\"password\"\n          v-model=\"formData.password2\"\n          left\n          placeholder=\"请再次输入密码\"\n        />\n      </div>\n    </div>\n    <div class=\"footer\">\n      <van-button\n        :disabled=\"isDisButton\"\n        style=\"border: none;\"\n        :class=\"isDisButton?'entityDisBtnDefault':'entityBtnDefault'\"\n        type=\"info\"\n        size=\"large\"\n        @click=\"handleFrom\"\n        :loading=\"loading\"\n      >完成</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { Toast } from \"vant\";\nimport formValidate from \"@/libs/validator\";\nimport { changePasswordapi } from \"@/api/user.js\";\nexport default {\n  data() {\n    const validatePassword = value => {\n      var myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\n      if (value == \"\") {\n        return \"原始密码不能为空\";\n      } else if (!myrey.test(value)) {\n        return \"请输入6~20位数字和字母组合\";\n      }\n    };\n    const validatePassword1 = value => {\n      var myrey = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\n      if (value == \"\") {\n        return \"密码不能为空\";\n      } else if (!myrey.test(value)) {\n        return \"请输入6~20位数字和字母组合\";\n      }\n    };\n    const validatePassword2 = (value, data) => {\n      if (value == \"\") {\n        return \"请再次输入密码\";\n      } else if (value != data.password1) {\n        return \"两次输入密码不一致\";\n      }\n    };\n    return {\n      loading: false,\n      formData: {\n        password: \"\",\n        password1: \"\",\n        password2: \"\"\n      },\n      rules: {\n        password: [{ required: true, validate: validatePassword }],\n        password1: [{ required: true, validate: validatePassword1 }],\n        password2: [{ required: true, validate: validatePassword2 }]\n      }\n    };\n  },\n  methods: {\n    ...mapActions([\"loginOut\"]),\n    handleFrom() {\n      formValidate(this.formData, this.rules).then(val => {\n        if (val) {\n          const password = this.formData.password;\n          const password1 = this.formData.password1;\n          const username = this.username;\n          this.loading = true;\n          changePasswordapi(username, password1, password)\n            .then(() => {\n              this.loading = false;\n              Toast.success(\"密码修改成功\");\n              this.loginOut().then(() => {\n                this.$router.push({\n                  path: \"/login\"\n                });\n              });\n            })\n            .catch(err => {\n              this.$toast(err.data.error);\n              this.loading = false;\n            });\n        }\n      });\n    }\n  },\n  computed: {\n    username() {\n      return this.$store.state.user.userEmail;\n    },\n    isDisButton() {\n      return (\n        this.formData.password == \"\" ||\n        this.formData.password1 == \"\" ||\n        this.formData.password2 == \"\"\n      );\n    }\n  }\n};\n</script>\n\n<style scoped=\"scoped\" lang=\"less\">\n.setNewBox {\n  display: block;\n  height: 100%;\n  width: 100%;\n  background: #ffffff;\n  padding: 25.35px 9.75px;\n  box-sizing: border-box;\n  .item {\n    & > div {\n      border-bottom: 1px solid #c6cbd4;\n      margin-bottom: 11.25px;\n      .code {\n        font-size: 12px;\n        font-weight: 500;\n        color: rgba(75, 116, 255, 1);\n      }\n    }\n    .loading {\n      width: 100%;\n      height: 22.5px;\n      display: flex;\n      align-items: center;\n    }\n  }\n  .footer {\n    margin-top: 37.5px;\n    display: block;\n  }\n}\nh2,\nh4 {\n  margin: 0;\n  padding: 0;\n}\nh2 {\n  font-size: 20px;\n  font-weight: 500;\n  color: #020202;\n  margin-bottom: 19.5px;\n}\nh4 {\n  font-size: 12px;\n  font-weight: 400;\n  color: rgba(108, 114, 124, 1);\n  margin-bottom: 9.75px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changePassword.vue?vue&type=template&id=2f25d99a&scoped=true&\"\nimport script from \"./changePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./changePassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changePassword.vue?vue&type=style&index=0&id=2f25d99a&scoped=scoped&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f25d99a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
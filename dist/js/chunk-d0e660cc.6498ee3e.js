(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0e660cc","chunk-3343f996"],{"1af3":function(t,e,s){"use strict";var a=s("86fd"),o=s.n(a);o.a},"1fa9":function(t,e,s){},"252c":function(t,e,s){"use strict";var a=s("61fe"),o=s.n(a);o.a},"455d":function(t,e,s){"use strict";var a=s("d399"),o={isNonEmpty:function(t,e){if(""===t)return e},isNumber:function(t,e){if(!/^[+]{0,1}(\d+)$/.test(t))return e},isEmail:function(t,e){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t))return e},isPhone:function(t,e){if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(t))return e},isGateway:function(t,e){if(!/^192\.168(\.(\d|([1-9]\d)|(1\d{2})|(2[0-4]\d)|(25[0-5]))){2}$/.test(t))return e},isMac:function(t,e){if(!/^[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}:[A-Fa-f\d]{2}$/.test(t))return e}},i=function(){this.cache=[]};i.prototype.add=function(t,e,s){for(var a=0;a<e.length;a++){let i=e[a];i.required?i.validate?this.cache.push((function(){return i.validate(t,s)})):i.type?this.cache.push((function(){return o[i.type](t,i.message)})):this.cache.push((function(){return o.isNonEmpty(t,i.message)})):i.type?0==i.required?""!=t&&null!=t&&this.cache.push((function(){return o[i.type](t,i.message)})):this.cache.push((function(){return o[i.type](t,i.message)})):i.validate&&(0==i.required?""!=t&&this.cache.push((function(){return i.validate(t,s)})):this.cache.push((function(){return i.validate(t,s)})))}},i.prototype.start=function(){for(var t=0;t<this.cache.length;t++){let e=this.cache[t]();if(e)return console.log(e),e}};let n=function(t,e){return new Promise((s,o)=>{let n=new i;Object.keys(e).forEach(s=>{n.add(t[s],e[s],t)});let r=n.start();r?(Object(a["a"])(r),s(!1)):s(!0)})};e["a"]=n},"61fe":function(t,e,s){},"62d2":function(t,e,s){},"86fd":function(t,e,s){},"9d3b":function(t,e,s){"use strict";var a=s("1fa9"),o=s.n(a);o.a},a4e3:function(t,e,s){"use strict";var a=s("d975"),o=s.n(a);o.a},cf05:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAAA8CAMAAAD41TecAAAARVBMVEVHcEz///////////////////////////////////////////////////////////////////////////////////////9X1DS3AAAAFnRSTlMA807I+gYx3xDsWrinmSTTdGYZQYGO8mRazgAADRdJREFUeNrcW9napCgMFQQEcQX1/R91EhYFRcuqmbn50193uyIcThYSqqrKIkW79J3WXT/RgVf/QgaRCbTF7bLfFZOJh1o1MuvCvCbSymI3FSFt6QadfMOaEBHOZbV2qyk9PNW19UdctLlYeTcusdRqS0TpefgZpHrLBBrS2zaFm3zcSOhfNW4s7ZFo8hfHUhck3CiCNG/bEr4uHJhbwyXZSBGkNTYixu0sqti8nK5PbhvTlP9XILXw6dAYHNa8CJJszl0Y+RcgOVQOkGacF7ptutjFPjRimtLI7eV5s6rtRpr5ESZjytcX6OfYOQFwOuN7HkYGpKJVEaQJ4Eu01I7JkzlItHpghwcJCWsQqV4mcmHSAt9ccoE+16eW+XwLEUptHzAab0BCtqy+dRY+CL3tvL1ifr7xpgSQTOw/x9kVJf15C9LgP+ZBsu6DgAEDGxaluYDUOaLn0uysjw3r7VlYf2fHhobwe5CWBCROKbCkoSjQu5FSB8bCsP0o6wWk9hakm5nT7o4HSbt/13wwBJ+yyHDQsrrrBnzMFEDKxtyS7aOM4gajraneMclc2uzDbGaXziDRIkjYmLihNqVDBAnmAzW4iTKCwqgxEDSKeAPSsr0RRcsYXVT3S5BmTTZWg7j/p5dMElthXK5Hs5MWOraEQ+hA/MOXaBWnHCQmn0Hqt3dCaBGjG8dxVTfZe1GgvF7a3HCDkZWOWdmHliNuyPm1yZsQ4Dy7J130UyAtCNiixUJEpDcihlwsSVSEr+QlSBs7o+Qjmv4BJO8zVpbSbfRGIb2QggS2luhuF+QXDqtvMkE/05xE888g5eY4hgA6sYpBtpTAMFHqR5SEf3F9AOnwjw8g1RlI6GoKWtl97p7zl2LyAvPX+6MZrw6769OFYLLotzqeDeQ3lAJGJWX4DqScScDtPOr3E/oWJOiX1msw3EONh6DoTBcN3MEkZxVT6dodo8H357XGJeuliFE58A096pzDp6m68eYBJH7Y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"},d975:function(t,e,s){},dc3f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isforgetPassword?s("div",{staticStyle:{height:"100%"}},[s("ForgetPassword",{on:{event:t.forgetPassword}})],1):s("div",{staticClass:"loginBox"},[s("span",{staticClass:"title"},[s("img",{attrs:{src:t.logoURL}})]),s("span",{staticClass:"body"},[t._m(0),s("span",{staticClass:"left"}),s("span",{staticClass:"right"}),s("span",{staticClass:"input",staticStyle:{"margin-top":"3rem"}},[s("van-field",{staticStyle:{background:"none"},attrs:{clearable:"",placeholder:"请输入邮箱号/手机号/ID","input-align":"left"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("span",{staticClass:"input"},[s("van-field",{staticStyle:{background:"none"},attrs:{type:t.inputType,placeholder:"请输入密码","input-align":"left","right-icon":t.rightIcon},on:{"click-right-icon":t.rightIconBtn},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("span",{staticClass:"input",staticStyle:{border:"none"}},[s("van-button",{attrs:{type:"info",size:"large","loading-text":"登录中...","loading-type":"spinner",loading:t.loading,disabled:t.disabled},on:{click:t.signIn}},[t._v("登录")])],1),s("span",{staticClass:"bodyFooter",staticStyle:{color:"#2266F6"},on:{click:t.forgetPassword}},[t._v("忘记密码")])]),s("span",{staticClass:"loginFooter"})])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"top"},[s("span",{staticClass:"topLeft"},[s("span",{staticClass:"text"},[t._v("账号登录")])])])}],i=s("2f62"),n=s("e303"),r=(s("62d2"),{components:{ForgetPassword:n["default"]},data(){return{username:"",password:"",passwordFlag:!1,loading:!1,isforgetPassword:!1,logoURL:s("cf05")}},computed:{rightIcon(){return this.passwordFlag?"eye-o":"closed-eye"},inputType(){return this.passwordFlag?"text":"password"},disabled(){return""==this.username||""==this.password}},methods:{...Object(i["b"])(["getLogin","getUnRead","setPersonInfo"]),forgetPassword(){this.$store.commit("setforgetPasswordKey","phone"),this.isforgetPassword=!this.isforgetPassword},signIn(){let t={username:this.username,password:this.password};this.$toast.loading({duration:0,forbidClick:!0,overlay:!0,loadingType:"circular",className:"loadClass",message:"登录中..."}),this.getLogin(t).then(e=>{this.setPersonInfo(),this.$toast.success({duration:1e3,forbidClick:!0,overlay:!0,className:"loadClass",message:"登录成功",onClose:()=>{let t=this.$store.state.app.theme.tabBottoms[0].path;this.$router.push({path:t})}}),localStorage.setItem("ylH5",JSON.stringify(t))}).catch(t=>{console.log(t.status);let e="登录失败";200==t.status&&(e=t.data.codemsg),this.$toast.fail({duration:2500,forbidClick:!0,overlay:!0,className:"loadClass",message:e})})},rightIconBtn(){this.passwordFlag=!this.passwordFlag},init(){if(localStorage.getItem("ylH5")){const{username:t,password:e}=JSON.parse(localStorage.getItem("ylH5"));this.username=t,this.password=e}}},mounted(){var t=document.documentElement.clientHeight;window.onload=function(){document.getElementById("app").style.height=t+"px"},document.title="联娱大数据",this.init()}}),l=r,c=(s("1af3"),s("2877")),d=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=d.exports},e303:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forgetPageBox"},[1==t.state?s("getCodeComponet",{on:{event1:t.event,event2:t.finish}}):t._e(),2==t.state?s("setNewPassword",{attrs:{username:t.username,code:t.code},on:{event2:t.finish}}):t._e()],1)},o=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forgetPage"},[s("div",{staticClass:"title"},[s("div",{class:{selected:"phone"==t.state},on:{click:t.backBtn}},[t._v("手机号验证")]),s("div",{class:{selected:"email"==t.state},on:{click:t.backBtn}},[t._v("邮箱验证")])]),s("div",{staticClass:"item"},[s("h4",[t._v(t._s(t.textData.title))]),s("div",[s("van-field",{attrs:{left:"",placeholder:t.textData.placeholder},model:{value:t.fromData.username,callback:function(e){t.$set(t.fromData,"username",e)},expression:"fromData.username"}})],1)]),s("div",{staticClass:"item"},[s("h4",[t._v("验证码")]),s("div",[s("van-field",{attrs:{placeholder:"请输入验证码"},model:{value:t.fromData.code,callback:function(e){t.$set(t.fromData,"code",e)},expression:"fromData.code"}},[s("span",{staticClass:"loading",attrs:{slot:"button"},slot:"button"},[0==t.loadState?s("span",{staticClass:"code",on:{click:t.getCode}},[t._v("发送验证码")]):t._e(),1==t.loadState?s("van-loading",{attrs:{size:"20",color:"#4B74FF"}}):t._e(),2==t.loadState?s("span",{staticClass:"code"},[t._v(t._s(t.time)+"s")]):t._e()],1)])],1)]),s("div",{staticClass:"footer"},[s("van-button",{attrs:{type:"info",size:"large",disabled:!t.disabled},on:{click:t.handleFrom}},[t._v("下一步")])],1),s("div",{staticClass:"bottom"},[s("div",{on:{click:t.backLogin}},[t._v("已有密码? 返回登录")])])])},n=[],r=s("455d"),l=s("c24f"),c=s("c276"),d={data(){return{time:60,loadState:0,setInterval:null,fromData:{username:"",code:""},rulesPhone:{username:[{required:!0,message:"请输入手机号"},{type:"isPhone",message:"手机号格式不正确"}]},rulesEmail:{username:[{required:!0,message:"请输入邮箱账号"},{type:"isEmail",message:"邮箱号格式不正确"}]}}},computed:{state(){return this.$store.state.user.forgetPasswordKey},textData(){return"phone"==this.state?{title:"手机号",placeholder:"请输入手机号",codeToast:"验证码已发送至手机，请注意查收",backText:"通过邮箱找回密码"}:{title:"邮箱号",placeholder:"请输入邮箱号",codeToast:"验证码已发送至邮箱，请注意查收",backText:"通过手机号找回密码"}},disabled(){var t=!0;for(var e in this.fromData)""==this.fromData[e]&&(t=!1);return t}},methods:{backLogin(){this.$emit("event2")},backBtn(){let t="phone"==this.state?"email":"phone";this.$store.commit("setforgetPasswordKey",t),this.fromData.username="",this.fromData.code="",this.loadState=0,clearInterval(this.setInterval)},getCode(){let t="phone"==this.state?this.rulesPhone:this.rulesEmail;Object(r["a"])(this.fromData,t).then(async t=>{if(t){this.loadState=1;const{username:t}=this.fromData;let e=await Object(l["h"])({username:t});if(200==e.status){let t=e.data.user_type,s=Object(c["p"])(t,!0);if(s.flag){let t={[this.state]:this.fromData.username};Object(l["d"])(t).then(t=>{this.$toast(this.textData.codeToast),this.loadState=2,this.time=60,this.setInterval=setInterval(()=>{this.time<=0&&(clearInterval(this.setInterval),this.loadState=0,this.time=60),this.time--},1e3)}).catch(t=>{this.loadState=0})}else this.loadState=0,this.$toast(s.msg)}else this.loadState=0,this.$toast("获取验证码失败，请稍后重试！")}})},handleFrom(){let t={code:this.fromData.code,[this.state]:this.fromData.username};console.log(t),Object(l["k"])(t).then(t=>{const{username:e,code:s}=this.fromData;this.$emit("event1",{username:e,code:s,index:2})}).catch(t=>{console.log(t),406==t.status&&this.$toast(t.data.error)})}},mounted(){document.title="phone"==this.state?"手机验证":"邮箱验证"},destroyed(){null!=this.setInterval&&clearInterval(this.setInterval)}},u=d,h=(s("9d3b"),s("2877")),m=Object(h["a"])(u,i,n,!1,null,"7ac3f07e",null),p=m.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setNewBox"},[s("h2",[t._v("新密码")]),s("div",{staticClass:"item"},[s("h4",[t._v("新密码")]),s("div",[s("van-field",{attrs:{left:"",placeholder:"请输入新密码"},model:{value:t.fromData.password1,callback:function(e){t.$set(t.fromData,"password1",e)},expression:"fromData.password1"}})],1)]),s("div",{staticClass:"item"},[s("h4",[t._v("确认密码")]),s("div",[s("van-field",{attrs:{left:"",placeholder:"请再次输入密码"},model:{value:t.fromData.password2,callback:function(e){t.$set(t.fromData,"password2",e)},expression:"fromData.password2"}})],1)]),s("div",{staticClass:"footer"},[s("van-button",{attrs:{type:"info",size:"large",loading:t.loading},on:{click:t.handleFrom}},[t._v("完成")])],1),s("div",{staticClass:"bottom"},[s("div",{on:{click:t.backLogin}},[t._v("已有密码? 返回登录")])])])},g=[],v={props:["username","code"],data(){const t=t=>{var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;return""==t?"密码不能为空":e.test(t)?void 0:"请输入6~20位数字和字母组合"},e=(t,e)=>""==t?"请再次输入密码":t!=e.password1?"两次输入密码不一致":void 0;return{loading:!1,fromData:{password1:"",password2:""},rules:{password1:[{required:!0,validate:t}],password2:[{required:!0,validate:e}]}}},computed:{state(){return this.$store.state.user.forgetPasswordKey}},methods:{backLogin(){this.$emit("event2")},handleFrom(){Object(r["a"])(this.fromData,this.rules).then(t=>{if(t){const t=this.fromData.password1,e=this.username,s=this.code;this.loading=!0;let a={username:e,code:s,password:t};Object(l["a"])(a).then(t=>{this.loading=!1,this.$toast("密码修改成功"),this.$emit("event2")}).catch(t=>{console.log(t),this.loading=!1,this.$toast("密码修改失败")})}})}}},w=v,b=(s("252c"),Object(h["a"])(w,f,g,!1,null,"ac1c9c98",null)),y=b.exports,C={components:{getCodeComponet:p,setNewPassword:y},data(){return{state:1,username:"",code:""}},methods:{event(t){this.state=t.index,this.username=t.username,this.code=t.code},finish(){this.$emit("event")}}},S=C,D=(s("a4e3"),Object(h["a"])(S,a,o,!1,null,"ee9a69dc",null));e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-d0e660cc.6498ee3e.js.map